{
  "name": "city guard",
  "plural": "city guards",
  "indefiniteArticle": "a",
  "triggers": { "onActive": "(function() { for (var i = 0; i < this.enemies.length; i++) { var enemy = this.enemies[i]; if (enemy.currentRoom === this.currentRoom) { this.kill(enemy); return; } } })", "onAttack": "(function(attacker) { if (this.enemies.indexOf(attacker) === -1) { this.enemies.push(attacker); } var self = this; this.setTimeout(function() { self.invokeTrigger('onActive'); }, 200); })", "onCharacterAttacked": "(function(attacker, defendant) { if (attacker.name === 'city guard') { return; } if (this.enemies.indexOf(attacker) === -1) { this.enemies.push(attacker); } var self = this; this.setTimeout(function() { self.invokeTrigger('onActive'); }, 600); })", "onCharacterDied": "(function(defendant, attacker) { var index = this.enemies.indexOf(defendant); if (index > -1) { this.enemies.splice(index, 1); } })", "onCharacterEntered": "(function(attacker) { var self = this; this.setTimeout(function() { self.invokeTrigger('onActive'); }, 200); })", "onSpawn": "(function() {\n    this.enemies = [];\n\n    this.guard($(\"portal:1485\"));\n})", "onTalk": "(function(character, message) {\n    this.setTimeout(function() {\n        message = message.toLower();\n        if (message.endsWith(\".\") || message.endsWith(\"?\") || message.endsWith(\"!\")) {\n            message = message.left(message.length - 1);\n        }\n        \n        var words = message.split(\" \");\n        if (words[0] === \"hi\" || words[0] === \"hello\") {\n            this.talk(character, \"What's up?\");\n        } else if (words.contains(\"key\") || words.contains(\"tower\") ||\n                   words.contains(\"locked\")) {\n            this.talk(character, \"Do you want the key to the gate tower? \" +\n                                 \"You better ask my friend.\");\n        } else {\n            character.send(\"The guard looks at you and shrugs.\");\n        }\n    }, 450);\n})" },
  "position": [ 0, 0, 0 ],
  "weight": 90,
  "cost": 0,
  "flags": "",
  "stats": [30, 30, 30, 30, 20, 20],
  "height": 180,
  "currentRoom": "room:59",
  "direction": [ 0, 0, 0 ],
  "race": "race:2",
  "characterClass": "class:148",
  "gender": "male",
  "respawnTime": 1800000,
  "respawnTimeVariation": 1800000,
  "hp": 60,
  "maxHp": 60,
  "mp": 0,
  "maxMp": 20,
  "gold": 0,
  "weapon": "weapon:206",
  "secondaryWeapon": "0",
  "shield": "0"
}
